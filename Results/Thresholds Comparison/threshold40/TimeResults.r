library(data.table)
library(dplyr)

sprintf("Threshold = 0.4")

rep1 <- read.csv('Rep1_TimesReport.csv')
rep2 <- read.csv('Rep2_TimesReport.csv')
rep3 <- read.csv('Rep3_TimesReport.csv')
rep4 <- read.csv('Rep4_TimesReport.csv')
rep5 <- read.csv('Rep5_TimesReport.csv')
rep6 <- read.csv('Rep6_TimesReport.csv')
rep7 <- read.csv('Rep7_TimesReport.csv')

ontology1 <- mean(rep1$OntologyConstruction)
ontologyIC1 <- qnorm(0.975)*sd(rep1$OntologyConstruction)/sqrt(NROW(rep1$OntologyConstruction))
matching1 <- mean(rep1$PropertiesMatching)
matchingIC1 <- qnorm(0.975)*sd(rep1$PropertiesMatching)/sqrt(NROW(rep1$PropertiesMatching))
jsonLd1   <- mean(rep1$JsonLD)
jsonLdIC1 <- qnorm(0.975)*sd(rep1$JsonLD)/sqrt(NROW(rep1$JsonLD))

ontology2 <- mean(rep2$OntologyConstruction)
ontologyIC2 <- qnorm(0.975)*sd(rep2$OntologyConstruction)/sqrt(NROW(rep2$OntologyConstruction))
matching2 <- mean(rep2$PropertiesMatching)
matchingIC2 <- qnorm(0.975)*sd(rep2$PropertiesMatching)/sqrt(NROW(rep2$PropertiesMatching))
jsonLd2   <- mean(rep2$JsonLD)
jsonLdIC2 <- qnorm(0.975)*sd(rep2$JsonLD)/sqrt(NROW(rep2$JsonLD))

ontology3 <- mean(rep3$OntologyConstruction)
ontologyIC3 <- qnorm(0.975)*sd(rep3$OntologyConstruction)/sqrt(NROW(rep3$OntologyConstruction))
matching3 <- mean(rep3$PropertiesMatching)
matchingIC3 <- qnorm(0.975)*sd(rep3$PropertiesMatching)/sqrt(NROW(rep3$PropertiesMatching))
jsonLd3   <- mean(rep3$JsonLD)
jsonLdIC3 <- qnorm(0.975)*sd(rep3$JsonLD)/sqrt(NROW(rep3$JsonLD))

ontology4 <- mean(rep4$OntologyConstruction)
ontologyIC4 <- qnorm(0.975)*sd(rep4$OntologyConstruction)/sqrt(NROW(rep4$OntologyConstruction))
matching4 <- mean(rep4$PropertiesMatching)
matchingIC4 <- qnorm(0.975)*sd(rep4$PropertiesMatching)/sqrt(NROW(rep4$PropertiesMatching))
jsonLd4   <- mean(rep4$JsonLD)
jsonLdIC4 <- qnorm(0.975)*sd(rep4$JsonLD)/sqrt(NROW(rep4$JsonLD))

ontology5 <- mean(rep5$OntologyConstruction)
ontologyIC5 <- qnorm(0.975)*sd(rep5$OntologyConstruction)/sqrt(NROW(rep5$OntologyConstruction))
matching5 <- mean(rep5$PropertiesMatching)
matchingIC5 <- qnorm(0.975)*sd(rep5$PropertiesMatching)/sqrt(NROW(rep5$PropertiesMatching))
jsonLd5   <- mean(rep5$JsonLD)
jsonLdIC5 <- qnorm(0.975)*sd(rep5$JsonLD)/sqrt(NROW(rep5$JsonLD))

ontology6 <- mean(rep6$OntologyConstruction)
ontologyIC6 <- qnorm(0.975)*sd(rep6$OntologyConstruction)/sqrt(NROW(rep6$OntologyConstruction))
matching6 <- mean(rep6$PropertiesMatching)
matchingIC6 <- qnorm(0.975)*sd(rep6$PropertiesMatching)/sqrt(NROW(rep6$PropertiesMatching))
jsonLd6   <- mean(rep6$JsonLD)
jsonLdIC6 <- qnorm(0.975)*sd(rep6$JsonLD)/sqrt(NROW(rep6$JsonLD))

ontology7 <- mean(rep7$OntologyConstruction)
ontologyIC7 <- qnorm(0.975)*sd(rep7$OntologyConstruction)/sqrt(NROW(rep7$OntologyConstruction))
matching7 <- mean(rep7$PropertiesMatching)
matchingIC7 <- qnorm(0.975)*sd(rep7$PropertiesMatching)/sqrt(NROW(rep7$PropertiesMatching))
jsonLd7   <- mean(rep7$JsonLD)
jsonLdIC7 <- qnorm(0.975)*sd(rep7$JsonLD)/sqrt(NROW(rep7$JsonLD))

sprintf("Ontology Construction, Properties Matching, JSON-LD Generation")
sprintf("Rep. 1 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology1, ontologyIC1, matching1, matchingIC1, jsonLd1, jsonLdIC1)
sprintf("Rep. 2 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology2, ontologyIC2, matching2, matchingIC2, jsonLd2, jsonLdIC2)
sprintf("Rep. 3 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology3, ontologyIC3, matching3, matchingIC3, jsonLd3, jsonLdIC3)
sprintf("Rep. 4 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology4, ontologyIC4, matching4, matchingIC4, jsonLd4, jsonLdIC4)
sprintf("Rep. 5 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology5, ontologyIC5, matching5, matchingIC5, jsonLd5, jsonLdIC5)
sprintf("Rep. 6 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology6, ontologyIC6, matching6, matchingIC6, jsonLd6, jsonLdIC6)
sprintf("Rep. 7 &  %s $\\pm$ %s  &  %s $\\pm$ %s  &  %s $\\pm$ %s \\", ontology7, ontologyIC7, matching7, matchingIC7, jsonLd7, jsonLdIC7)


print("=== TOTAL AVERAGE ===")
allData <- rbind(rep1,rep2,rep3,rep4,rep5,rep6,rep7)

ontology <- mean(allData$OntologyConstruction)
ontologyIC <- qnorm(0.975)*sd(allData$OntologyConstruction)/sqrt(NROW(allData$OntologyConstruction))
matching <- mean(allData$PropertiesMatching)
matchingIC <- qnorm(0.975)*sd(allData$PropertiesMatching)/sqrt(NROW(allData$PropertiesMatching))
jsonLd   <- mean(allData$JsonLD)
jsonLdIC <- qnorm(0.975)*sd(allData$JsonLD)/sqrt(NROW(allData$JsonLD))

sprintf("Ontology Construction, Properties Matching, JSON-LD Generation")
sprintf("Average & %s $\\pm$ %s ms  &  %s $\\pm$ %s ms  &  %s $\\pm$ %s ms \\", ontology, ontologyIC, matching, matchingIC, jsonLd, jsonLdIC)
